; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter, extra scripting
;   Upload options: custom port, speed and extra flags
;   Library options: dependencies, extra library storages
;
; Please visit documentation for the other options and examples
; http://docs.platformio.org/page/projectconf.html

[platformio]
default_envs = sipeed-longan-nano, gd32vf103c-start
src_dir = .


[env:sipeed-longan-nano]
platform = gd32v
;framework = gd32vf103-sdk
board = sipeed-longan-nano
monitor_speed = 115200
upload_protocol = dfu
build_flags =
    -DGD32VF103C_START
    -DUSE_STDPERIPH_DRIVER
    -DUSE_USB_FS
    -DRVL_TARGET_GD32VF103
    -DRVL_LINK_LONGAN_NANO
    -DRVL_SERIAL_USING_UART0
    -DRVL_DEBUG_EN
    -DRVL_ASSERT_EN
    -MMD
extra_scripts =
    pre:build.py
src_filter =
    -<.git/> -<.svn/> -<example/> -<examples/> -<test/> -<tests/>
    +<lib/>
    +<rv-link/>
    -<rv-link/link/arch/gd32vf103c/>
    +<rv-link/link/arch/gd32vf103c/*.c>
    +<rv-link/link/arch/gd32vf103c/details/*.c>
    +<rv-link/link/arch/gd32vf103c/longan-nano/>


[env:gd32vf103c-start]
platform = gd32v
;framework = gd32vf103-sdk
board = sipeed-longan-nano
monitor_speed = 115200
upload_protocol = dfu
build_flags =
    -DGD32VF103C_START
    -DUSE_STDPERIPH_DRIVER
    -DUSE_USB_FS
    -DRVL_TARGET_GD32VF103
    -DRVL_LINK_GD32VF103C_START
    -DRVL_SERIAL_USING_UART0
    -DRVL_DEBUG_EN
    -DRVL_ASSERT_EN
    -MMD
extra_scripts =
    pre:build.py
src_filter =
    -<.git/> -<.svn/> -<example/> -<examples/> -<test/> -<tests/>
    +<lib/>
    +<rv-link/>
    -<rv-link/link/arch/gd32vf103c/>
    +<rv-link/link/arch/gd32vf103c/*.c>
    +<rv-link/link/arch/gd32vf103c/details/*.c>
    +<rv-link/link/arch/gd32vf103c/gd32vf103c-start/>
