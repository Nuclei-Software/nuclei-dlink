; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter, extra scripting
;   Upload options: custom port, speed and extra flags
;   Library options: dependencies, extra library storages
;
; Please visit documentation for the other options and examples
; http://docs.platformio.org/page/projectconf.html

[platformio]
default_envs = sipeed-longan-nano
src_dir = .

[env:sipeed-longan-nano]
platform = gd32v
;framework = gd32vf103-sdk
board = sipeed-longan-nano
monitor_speed = 115200
upload_protocol = dfu


build_flags =
    -DGD32VF103C_START
    -DUSE_STDPERIPH_DRIVER
    -DUSE_USB_FS
    -DLINK_LONGAN_NANO
    -DRVL_SERIAL_USING_UART0
    -DTARGET_GD32VF103
    -DAPP_GDB_SERVER
    -DRVL_DEBUG_EN
    -DRVL_ASSERT_EN
    -MMD
extra_scripts =
    pre:build.py
src_filter =
    -<.git/> -<.svn/> -<example/> -<examples/> -<test/> -<tests/>
    +<rv-link/> +<lib/>
    -<rv-link/link/arch/gd32vf103c/gd32vf103c-start/>
    -<rv-link/link/arch/gd32vf103c/longan-nano-alt/>
