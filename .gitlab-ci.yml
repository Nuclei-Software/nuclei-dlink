image: mhoiting/platformio-cli-gd32v-docker:v0.1.0

stages:
    - build

build:
    stage: build
    script:
        - pio run
    artifacts:
        name: "firmware"
        expire_in: 1 week
        paths:
            - .pio/build/gd32vf103c-start/firmware.*
            - .pio/build/sipeed-longan-nano/firmware.*
            - .pio/build/sipeed-longan-nano-alt/firmware.*
        when: always
